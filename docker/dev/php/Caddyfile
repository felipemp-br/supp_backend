http://localhost:8000 {
	root * /app/public
	push
	php_fastcgi unix//var/run/php/php8.3-fpm.sock
	encode zstd gzip
	file_server
	log php-dev {
		level INFO
		format console {
			time_format common_log
			time_local
			level_format color
		}
		format filter {
			wrap console
			fields {
				request>headers delete
				resp_headers delete
			}
		}
	}
}

https://* {
	root * /app/public
	php_fastcgi unix//var/run/php/php8.3-fpm.sock
	encode zstd gzip
	file_server
	tls /ssl/localhost.crt /ssl/localhost.key

	log {
		level INFO
		output file /var/log/caddy/php-dev.log {
			roll_size 10MiB
			roll_keep 5
			roll_keep_for 24h
		}
		format console {
			time_format common_log
			time_local
			level_format color
		}
		format filter {
			wrap console
			fields {
				request>headers delete
				resp_headers delete
			}
		}
	}
}
